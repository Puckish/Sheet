var LZString=function(){function e(e,t){if(!r[e]){r[e]={};for(var o=0;o<e.length;o++)r[e][e.charAt(o)]=o}return r[e][t]}var t=String.fromCharCode,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",r={},i={compressToBase64:function(e){if(null==e)return"";var t=i._compress(e,6,function(e){return o.charAt(e)});switch(t.length%4){default:case 0:return t;case 1:return t+"===";case 2:return t+"==";case 3:return t+"="}},decompressFromBase64:function(t){return null==t?"":""==t?null:i._decompress(t.length,32,function(n){return e(o,t.charAt(n))})},compressToUTF16:function(e){return null==e?"":i._compress(e,15,function(e){return t(e+32)})+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:i._decompress(e.length,16384,function(t){return e.charCodeAt(t)-32})},compressToUint8Array:function(e){for(var t=i.compress(e),o=new Uint8Array(2*t.length),n=0,r=t.length;r>n;n++){var a=t.charCodeAt(n);o[2*n]=a>>>8,o[2*n+1]=a%256}return o},decompressFromUint8Array:function(e){if(null===e||void 0===e)return i.decompress(e);for(var o=new Array(e.length/2),n=0,r=o.length;r>n;n++)o[n]=256*e[2*n]+e[2*n+1];var a=[];return o.forEach(function(e){a.push(t(e))}),i.decompress(a.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":i._compress(e,6,function(e){return n.charAt(e)})},decompressFromEncodedURIComponent:function(t){return null==t?"":""==t?null:(t=t.replace(/ /g,"+"),i._decompress(t.length,32,function(o){return e(n,t.charAt(o))}))},compress:function(e){return i._compress(e,16,function(e){return t(e)})},_compress:function(e,t,o){if(null==e)return"";var n,r,i,a={},s={},u="",c="",l="",p=2,f=3,d=2,h=[],m=0,v=0;for(i=0;i<e.length;i+=1)if(u=e.charAt(i),Object.prototype.hasOwnProperty.call(a,u)||(a[u]=f++,s[u]=!0),c=l+u,Object.prototype.hasOwnProperty.call(a,c))l=c;else{if(Object.prototype.hasOwnProperty.call(s,l)){if(l.charCodeAt(0)<256){for(n=0;d>n;n++)m<<=1,v==t-1?(v=0,h.push(o(m)),m=0):v++;for(r=l.charCodeAt(0),n=0;8>n;n++)m=m<<1|1&r,v==t-1?(v=0,h.push(o(m)),m=0):v++,r>>=1}else{for(r=1,n=0;d>n;n++)m=m<<1|r,v==t-1?(v=0,h.push(o(m)),m=0):v++,r=0;for(r=l.charCodeAt(0),n=0;16>n;n++)m=m<<1|1&r,v==t-1?(v=0,h.push(o(m)),m=0):v++,r>>=1}0==--p&&(p=Math.pow(2,d),d++),delete s[l]}else for(r=a[l],n=0;d>n;n++)m=m<<1|1&r,v==t-1?(v=0,h.push(o(m)),m=0):v++,r>>=1;0==--p&&(p=Math.pow(2,d),d++),a[c]=f++,l=String(u)}if(""!==l){if(Object.prototype.hasOwnProperty.call(s,l)){if(l.charCodeAt(0)<256){for(n=0;d>n;n++)m<<=1,v==t-1?(v=0,h.push(o(m)),m=0):v++;for(r=l.charCodeAt(0),n=0;8>n;n++)m=m<<1|1&r,v==t-1?(v=0,h.push(o(m)),m=0):v++,r>>=1}else{for(r=1,n=0;d>n;n++)m=m<<1|r,v==t-1?(v=0,h.push(o(m)),m=0):v++,r=0;for(r=l.charCodeAt(0),n=0;16>n;n++)m=m<<1|1&r,v==t-1?(v=0,h.push(o(m)),m=0):v++,r>>=1}0==--p&&(p=Math.pow(2,d),d++),delete s[l]}else for(r=a[l],n=0;d>n;n++)m=m<<1|1&r,v==t-1?(v=0,h.push(o(m)),m=0):v++,r>>=1;0==--p&&(p=Math.pow(2,d),d++)}for(r=2,n=0;d>n;n++)m=m<<1|1&r,v==t-1?(v=0,h.push(o(m)),m=0):v++,r>>=1;for(;;){if(m<<=1,v==t-1){h.push(o(m));break}v++}return h.join("")},decompress:function(e){return null==e?"":""==e?null:i._decompress(e.length,32768,function(t){return e.charCodeAt(t)})},_decompress:function(e,o,n){var r,i,a,s,u,c,l,p=[],f=4,d=4,h=3,m="",v=[],g={val:n(0),position:o,index:1};for(r=0;3>r;r+=1)p[r]=r;for(a=0,u=Math.pow(2,2),c=1;c!=u;)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=o,g.val=n(g.index++)),a|=(s>0?1:0)*c,c<<=1;switch(a){case 0:for(a=0,u=Math.pow(2,8),c=1;c!=u;)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=o,g.val=n(g.index++)),a|=(s>0?1:0)*c,c<<=1;l=t(a);break;case 1:for(a=0,u=Math.pow(2,16),c=1;c!=u;)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=o,g.val=n(g.index++)),a|=(s>0?1:0)*c,c<<=1;l=t(a);break;case 2:return""}for(p[3]=l,i=l,v.push(l);;){if(g.index>e)return"";for(a=0,u=Math.pow(2,h),c=1;c!=u;)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=o,g.val=n(g.index++)),a|=(s>0?1:0)*c,c<<=1;switch(l=a){case 0:for(a=0,u=Math.pow(2,8),c=1;c!=u;)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=o,g.val=n(g.index++)),a|=(s>0?1:0)*c,c<<=1;p[d++]=t(a),l=d-1,f--;break;case 1:for(a=0,u=Math.pow(2,16),c=1;c!=u;)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=o,g.val=n(g.index++)),a|=(s>0?1:0)*c,c<<=1;p[d++]=t(a),l=d-1,f--;break;case 2:return v.join("")}if(0==f&&(f=Math.pow(2,h),h++),p[l])m=p[l];else{if(l!==d)return null;m=i+i.charAt(0)}v.push(m),p[d++]=i+m.charAt(0),i=m,0==--f&&(f=Math.pow(2,h),h++)}}};return i}();function clearForm(){document.getElementById("charSheet").reset()}function putCharstuff(){var e={};$.each($("form").serializeArray(),function(){e[this.name]=this.value});var t=LZString.compressToEncodedURIComponent(JSON.stringify(e));window.location.hash=t}function loadCharstuff(){var e=window.location.hash.substr(1),t=LZString.decompressFromEncodedURIComponent(e),o=JSON.parse(t),n=document.getElementById("charSheet");populate(n,o)}"function"==typeof define&&define.amd?define(function(){return LZString}):"undefined"!=typeof module&&null!=module&&(module.exports=LZString),function(e){var t=function(e,o,n){for(var r in o)if(o.hasOwnProperty(r)){var i=r,a=o[r];if(void 0===a&&(a=""),null===a&&(a=""),void 0!==n&&(i=n+"["+r+"]"),a.constructor===Array)i+="[]";else if("object"==typeof a){t(e,a,i);continue}var s=e.elements.namedItem(i);if(s)switch(s.type||s[0].type){default:s.value=a;break;case"radio":case"checkbox":if(s.length)for(var u=0;u<s.length;u++)s[u].checked=a.indexOf(s[u].value)>-1;else s.checked=a.indexOf(s.value)>-1;break;case"select-multiple":for(var c=a.constructor==Array?a:[a],l=0;l<s.options.length;l++)s.options[l].selected|=c.indexOf(s.options[l].value)>-1;break;case"select":case"select-one":s.value=a.toString()||a;break;case"date":s.value=new Date(a).toISOString().split("T")[0]}}};"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return t}):"undefined"!=typeof module&&module.exports?module.exports=t:e.populate=t}(this);var autoExpand=function(e){e.style.height="inherit";var t=window.getComputedStyle(e),o=parseInt(t.getPropertyValue("border-top-width"),10)+parseInt(t.getPropertyValue("padding-top"),10)+e.scrollHeight+parseInt(t.getPropertyValue("padding-bottom"),10)+parseInt(t.getPropertyValue("border-bottom-width"),10)-20;e.style.height=o+"px"};function resizeBoxes(){for(var e=document.getElementsByTagName("textarea"),t=0;t<e.length;t+=1)autoExpand(e[t])}function displayButtons(){$("#charSheet").after("<div class='charSheetButtons' style='text-align: center;''><button type='button' value='Save'  onclick='putCharstuff();' style='margin: 0 auto;'>Save</button> <button type='button' value='Load' onclick='loadCharstuff();' style='margin: 0 auto;'>Load</button> <button type='button' value='Clear' onclick='clearForm()'>Clear</button></div>")}function initialStuff(){loadCharstuff(),resizeBoxes(),displayButtons()}document.addEventListener("input",function(e){"textarea"===e.target.tagName.toLowerCase()&&autoExpand(e.target)},!1),window.addEventListener("resize",function(e){resizeBoxes()}),$(document).ready(function(){initialStuff()});